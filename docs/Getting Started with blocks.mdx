
# Getting Started with Blocks

You should be signed up with Appblocks to create a **block (hyperlink)**. Have a text editor of your choice installed for your programming.

## Setting up the CLI

### 1. Linux and Mac:  

#### 1.1 Install nvm
1.1.1.	It is recommended to use nvm for installing node.  

1.1.2.	You can install nvm using the command ,
 curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh | bash
If curl is not installed, run sudo apt-get install curl  

![git4](https://user-images.githubusercontent.com/97872852/203755963-0ed75bc1-5af0-42fc-b8bc-49c168de93e5.gif)  

#### 1.2. Install NodeJs
1.2.1.	Install LTS of v16
Further reading: https://learn.microsoft.com/en-us/windows/dev-environment/javascript/nodejs-on-wsl  

![git5](https://user-images.githubusercontent.com/97872852/203756175-9d98c29c-421b-4deb-be4a-c44c67ae3038.gif)  

#### 1.3. Install @appblocks/bb-cli
1.3.1.	Installing bb-cli is simple. Run npm i -g @appblocks/bb-cli
1.3.2.	It is recommended to install bb-cli globally (hence the -g flag), if you prefer to install without -g, command might need to be prefixed with npx ( Eg. npx bb login )  

![git6](https://user-images.githubusercontent.com/97872852/203756370-557ad93f-4817-4cc7-b7c3-cdbfa65b39cb.gif)  

### 2. Windows
bb-cli works best in linux bash.If you prefer working in windows, it is adviced to do so in wsl with windows terminal application
#### 2.1. Installing WSL
2.1.1.	Open windows Powershell or Command Prompt in administrator mode  

2.1.2.	Run wsl â€“install  

This will install and setup all the things necessary to run linux, including the latest ubuntu distro. For futher reading: https://learn.microsoft.com/en-us/windows/wsl/install  

![gitt](https://user-images.githubusercontent.com/97872852/203749101-a6915fec-cb28-4d01-9a3e-fc85533eea11.gif)  

2.1.3. Setup Ubuntu  

Open ubuntu from start, a terminal window will appear, where you can set the username and password for the linux user  

![git1](https://user-images.githubusercontent.com/97872852/203754998-6b5c3e72-56a2-46b3-b8a9-ce14db3ec661.gif)  

2.1.4. Install Terminal  

  Visit windows store and search for Terminal. Install the first suggestion.  
 
![git2](https://user-images.githubusercontent.com/97872852/203755290-dcb464d2-98fa-4152-b2b7-055d2c11f96f.gif)  

2.1.5. Change default profile  

   Windows terminal by default will be set to open in powershell, you can shange that to use ubuntu profile by default. For further reading: https://learn.microsoft.com/en-us/windows/terminal  

![git3](https://user-images.githubusercontent.com/97872852/203755570-fc9eb24a-2339-4d13-9dc1-4d70dcfc0f8e.gif)  

2.1.6 Continue steps **1.1. Install nvm**, **1.2. Install NodeJs** and **1.3. Install @appblocks/bb-cli**.


## Creating a blocks and apps

Login to Appblocks if not logged in already.   

The following command will redirect to the shield page,  where users can login with credentials. After the command, return back to the CLI. 

    > bb login 
![image_2022_11_11T11_08_06_658Z (2)](https://user-images.githubusercontent.com/33730398/203945704-bb4c8779-c70c-43c9-91db-7c68e2fc9d83.png)  

![image](https://user-images.githubusercontent.com/33730398/203945735-6415b77f-d328-4988-a10d-7f4bffa67f94.png)  


The following command will connect you with git service provider.  

    > bb connect service_name [-f] 
    
  [-f force if needed to change existing connection] 
  
  ![image](https://user-images.githubusercontent.com/33730398/203945975-3273639e-3b31-4891-8ee7-a7d1c688bab0.png)

   

#### Creating a new block  

A block should be created under a packaged block (parent block) steps  
Create a new packaged block will prompt with pic1
![image](https://user-images.githubusercontent.com/33730398/203946733-643f51cd-d1d5-4d28-a1ba-ac3d84f2e754.png)    


    > bb init packaged_block_name    
    
This will create a packaged_block_name dir with block.config.json and if the chosen sample project that will be also there.    
   
Now cd into packaged_block_name workspace  
   
To create block can create ui-container , ui-elements , function , shared-fn , job blocks will prompt with pic2 for job block and for rest there will be no prompt for enter cron schedule and time zone information, the rest workflow is same for all blocks    

![image](https://user-images.githubusercontent.com/33730398/203947341-5b00fa03-a329-4f44-8fde-92bd7bd32baa.png)  

     > bb create block_name  
    
To pull block (also have option to pull and create with new name) will prompt with pic3, where user can create a new clone or fork the block OR just use it as it is    

![image](https://user-images.githubusercontent.com/33730398/203947463-beafffb8-ebac-4297-8ece-a0774fe6bd03.png)  

     > bb pull block_name   
     
 
#### Creating an app and adding blocks to it    
To create an app   
  
    > bb create-app   
   
 will prompt with pic4  
 
 ![image](https://user-images.githubusercontent.com/33730398/203947518-2ecdfed3-85e1-4b1a-a303-929f9ab50fb9.png)  
 
 will create app for the packaged_block so that user can deploy it

 #### Pushing and Publishing after Creation
 
 After your necessary changes are made in the code,  
  
     > bb push [-f or block_name]  
     
  [-f => push all changes to this block or specified block]  
     
 To publish the block,  
  
     > bb publish block_name  
     
## Using the purchased block

From either Manage Blocks or Purchase History in Spaces, do the following steps.
* Assign the block to an app within this space (Can assign the app from the cli too ).
* Install code with bb pull (downloading the code with our CLI). This can be done from either of the following pages:
  * Purchase History
  * Manage Blocks

## Deploying the app
Upload a blocks before publish each block with the following command  

     > bb upload -env dev    
     
The following command for deploying the app will prompt to choose uploaded blocks, and then the deploying method  

     > bb deploy  

